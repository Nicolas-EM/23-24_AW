<div id="calendar">
    <div class="row text-center">
      <h3><%= getMonthName() %></h3>
    </div>
    <div class="row text-secondary">
      <div class="col">Lu</div>
      <div class="col">Ma</div>
      <div class="col">Mi</div>
      <div class="col">Ju</div>
      <div class="col">Vi</div>
      <div class="col">Sa</div>
      <div class="col">Do</div>
    </div>
  
    <% for (let week of getCalendarWeeks()) { %>
      <div class="row">
        <% for (let day of week) { %>
          <div class="col<%= day.isCurrentMonth ? '' : ' text-muted' %>">
            <%= day.day !== 0 ? day.day : '' %>
          </div>
        <% } %>
      </div>
    <% } %>
  </div>
  
  <%
  // Define a function to get the current month name
  function getMonthName() {
    const months = [
      'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',
      'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'
    ];
    const currentDate = new Date();
    return months[currentDate.getMonth()];
  }
  
  // Define a function to generate the calendar for the current month
  function getCalendarWeeks() {
    const currentDate = new Date();
    const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
    const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
    const daysInMonth = lastDay.getDate();
    let firstDayOfWeek = firstDay.getDay();
    if(firstDayOfWeek == 0) {
        firstDayOfWeek = 6;
    }
  
    const weeks = [];
    let currentWeek = [];
  
    // Fill in leading empty days if necessary
    for (let i = 0; i < firstDayOfWeek; i++) {
      currentWeek.push({ day: 0, isCurrentMonth: false });
    }

    let dayCounter = currentWeek.length;
  
    // Generate the days of the current month
    for (let day = 1; day <= daysInMonth; day++) {
      currentWeek.push({ day, isCurrentMonth: true });
      dayCounter++;
  
      if (dayCounter % 7 === 0) {
        weeks.push(currentWeek);
        currentWeek = [];
      }
    }
  
    // Fill in trailing empty days if necessary
    while (currentWeek.length < 7) {
      currentWeek.push({ day: 0, isCurrentMonth: false });
    }
  
    if (currentWeek.length > 0) {
      weeks.push(currentWeek);
    }
  
    return weeks;
  }
  %>
  