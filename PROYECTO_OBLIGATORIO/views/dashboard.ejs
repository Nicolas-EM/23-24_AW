<!DOCTYPE html>
<html lang="es">

<head>
    <%- include('fragments/head.ejs') %>
    <title>RIU - Dashboard</title>
    <link href="/stylesheets/dashboard.css" rel="stylesheet" type="text/css">
</head>

<body>
    <%- include('fragments/navbar.ejs', { org }) %>

    <!-- Content -->
    <div id="content" class="m-2 mb-4">
        <!-- Search -->
        <div class="container text-center">
            <!-- Search bar -->
            <form id="searchForm" action="/installations/search" method="post">
                <input type="hidden" id = "_csrf" name="_csrf" value="<%= csrfToken %>">
                <div class="input-group justify-content-center">
                    <input type="text" class="form-control" id="query" name="query" placeholder="Search installations">
                    
                    <!-- Search -->
                    <div class="btn-group">
                        <!-- Search Btn -->
                        <button class="btn btn-primary ml-2" type="submit">
                            <span class="material-symbols-outlined">search</span>
                        </button>
                        <!-- Filter Button -->
                        <button class="btn btn-primary btn-rounded" type="button" data-bs-toggle="collapse" data-bs-target="#searchFilters" aria-expanded="false" aria-controls="searchFilters">
                            <span class="material-symbols-outlined">tune</span>
                        </button>
                    </div>
                </div>

                <!-- Search filters -->
                <div class="row row-cols-1 row-cols-sm-2 row-cols-md-6 g-2 mt-3 collapse align-items-center text-center" id="searchFilters">
                    <div class="col col-sm-4 col-md-2 col-lg-1">
                        <label for="facultyFilter" class="form-label ">Faculty:</label>
                    </div>
                    <div class="col col-sm-8 col-md-4 col-lg-3 mb-2">
                        <select id="facultyFilter" class="form-control">
                            <option value="" selected>All</option>
                        </select>
                    </div>
                    <div class="col col-sm-4 col-md-2 col-lg-1">
                        <label for="typeFilter" class="form-label ">Type:</label>
                    </div>
                    <div class="col col-sm-8 col-md-4 col-lg-3 mb-2">
                        <select id="typeFilter" class="form-control">
                            <option value="" selected>All</option>
                            <option value="0">Collective</option>
                            <option value="1">Individual</option>
                        </select>
                    </div>
                    <div class="col col-sm-4 col-md-2 col-lg-2">
                        <label for="capacityFiler" class="form-label ">Min. Capacity:</label>
                    </div>
                    <div class="col col-sm-8 col-md-4 col-lg-2 mb-2">
                        <input id="capacityFiler" type="number" min="0" value="0" class="form-control">
                    </div>
                </div>
            </form>
        </div>

        <!-- Grid of installations -->
        <div class="installations container mt-4">
            <div class="row text-center">
                <div id="noResults" class="d-none">
                    <h3>No results</h3>
                </div>
            </div>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4" id="installations">
            </div>
        </div>
    </div>
    
    <%- include('fragments/reservationModal.ejs') %>
    <%- include('fragments/footer.ejs', { org }) %>
    <script src="/javascript/dashboard.js"></script>
</body>

</html>